import Figure from '@site/src/components/Figure/Figure';
import CodeBlock from "/src/components/CodeBlock/CodeBlock";
import HTTPSWarning from '/docs/hosting/_includes/warning/_https-url-change.mdx';
import LetsEncryptWarning from '/docs/hosting/_includes/warning/_https-valid-domain.mdx'
import SubDirectoryWarning from '/docs/hosting/_includes/warning/_subdirectory-https-warning.mdx'
import ACMEWarning from '/docs/hosting/_includes/warning/_acme_port_80_dependence_warning.mdx'

<HTTPSWarning />
<LetsEncryptWarning />
<SubDirectoryWarning />
<ACMEWarning />

## Install or reconfigure passbolt

The passbolt {props.productName} RPM package includes a configuration helper tool to set up MariaDB, Nginx, and TLS (SSL) settings.

You must prepare your TLS (SSL) certificates before launching the tool. Be sure to write down the full path to your certificate and key files, as they will be needed in the nginx configuration process.

Please note that for security reasons, we highly recommend setting up TLS (SSL) to serve passbolt.

Launch the passbolt-configure tool and answer the questions:

<CodeBlock>
    {`sudo /usr/local/bin/passbolt-configure`}
</CodeBlock>

If you are reconfiguring passbolt, you'll most likely want to answer **‘NO’** to the MariaDB or haveged setup questions and choose Nginx setup instead.

<CodeBlock>
    {`
==============================================================
Do you want to install a local mariadb server on this machine?
==============================================================
1) yes
2) no
#? `}
</CodeBlock>

Please enter the domain name under which passbolt will run.

:::important[Note]
This hostname will be used as server_name for nginx and as the domain name to register a TLS (SSL) certificate with Let’s Encrypt if you don’t have your own TLS (SSL) certificates.
:::
<CodeBlock>
    {`=========
Hostname: passbolt.domain.tld
=========`}
</CodeBlock>

You will then be able to choose the auto setup.

<CodeBlock>
    {`==================
Setting up TLS (SSL)...
==================
1) manual
2) auto
3) none
#?`}
</CodeBlock>

Finally, you will need to provide an email address for Let’s Encrypt to notify you for renewals and other administrative information:

<CodeBlock>
    {`Enter an email address to register with Let's Encrypt: `}
</CodeBlock>