groupsIndex:
  response:
    base:
      summary: "Base without any extra data"
      value:
        header:
          id: "7ff2828c-1092-4897-8e0a-1dc64ada889f"
          status: "success"
          servertime: 1721207029
          action: "4d0c0996-ce30-4bce-9918-9062ab35c542"
          message: "The operation was successful."
          url: "/groups.json"
          code: 200
        body:
          - id: "8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc"
            name: "Groupe B"
            deleted: true
            created: "2024-07-08T10:13:20+00:00"
            modified: "2024-07-08T10:13:20+00:00"
            created_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
            modified_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
    withGroupsUsersProfiles:
      summary: "Groups index with users profile"
      value:
        header:
          id: "7ff2828c-1092-4897-8e0a-1dc64ada889f"
          status: "success"
          servertime: 1721207029
          action: "4d0c0996-ce30-4bce-9918-9062ab35c542"
          message: "The operation was successful."
          url: "/groups.json"
          code: 200
        body:
          - id: "8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc"
            name: "Groupe B"
            deleted: true
            created: "2024-07-08T10:13:20+00:00"
            modified: "2024-07-08T10:13:20+00:00"
            created_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
            modified_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
            groups_users:
              - id: "3b9b9757-1ccb-444a-a3cf-4090364fac4f"
                group_id: "8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc"
                user_id: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
                is_admin: true
                created: "2024-07-22T16:01:07+00:00"
                user:
                  id: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
                  role_id: "639b50cf-66f9-4b23-8d55-d0609710cd9d"
                  username: "ada@passbolt.com"
                  active: true
                  deleted: false
                  created: "2024-07-03T12:52:06+00:00"
                  modified: "2024-07-03T12:52:06+00:00"
                  disabled: null
                  profile:
                    id: "920edf1e-5ce8-4da4-a8fc-21040fe78d09"
                    user_id: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
                    first_name: "Ada"
                    last_name: "Lovelace"
                    created: "2024-07-03T12:52:06+00:00"
                    modified: "2024-07-03T12:52:06+00:00"
                  last_logged_in: null

groupView:
  response:
    base:
      summary: "Base without any extra data"
      value:
        header:
          id: "7ff2828c-1092-4897-8e0a-1dc64ada889f"
          status: "success"
          servertime: 1721207029
          action: "4d0c0996-ce30-4bce-9918-9062ab35c542"
          message: "The operation was successful."
          url: "/groups.json"
          code: 200
        body:
          id: "8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc"
          name: "Groupe B"
          deleted: true
          created: "2024-07-08T10:13:20+00:00"
          modified: "2024-07-08T10:13:20+00:00"
          created_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
          modified_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
    withGroupsUsersProfiles:
      summary: "Groups index with users profile"
      value:
        header:
          id: "7ff2828c-1092-4897-8e0a-1dc64ada889f"
          status: "success"
          servertime: 1721207029
          action: "4d0c0996-ce30-4bce-9918-9062ab35c542"
          message: "The operation was successful."
          url: "/groups.json"
          code: 200
        body:
          id: "8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc"
          name: "Groupe B"
          deleted: true
          created: "2024-07-08T10:13:20+00:00"
          modified: "2024-07-08T10:13:20+00:00"
          created_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
          modified_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
          groups_users:
            - id: "3b9b9757-1ccb-444a-a3cf-4090364fac4f"
              group_id: "8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc"
              user_id: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
              is_admin: true
              created: "2024-07-22T16:01:07+00:00"
              user:
                id: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
                role_id: "639b50cf-66f9-4b23-8d55-d0609710cd9d"
                username: "ada@passbolt.com"
                active: true
                deleted: false
                created: "2024-07-03T12:52:06+00:00"
                modified: "2024-07-03T12:52:06+00:00"
                disabled: null
                profile:
                  id: "920edf1e-5ce8-4da4-a8fc-21040fe78d09"
                  user_id: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
                  first_name: "Ada"
                  last_name: "Lovelace"
                  created: "2024-07-03T12:52:06+00:00"
                  modified: "2024-07-03T12:52:06+00:00"
                last_logged_in: null

groupAdd:
  request:
    base:
      value:
        name: "Groupe B"
        groups_users:
          - user_id: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
            is_admin: true
  response:
    base:
      value:
        header:
          id: "7ff2828c-1092-4897-8e0a-1dc64ada889f"
          status: "success"
          servertime: 1721207029
          action: "4d0c0996-ce30-4bce-9918-9062ab35c542"
          message: "The operation was successful."
          url: "/groups.json"
          code: 200
        body:
          id: "8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc"
          name: "Groupe B"
          deleted: false
          created: "2024-07-08T10:13:20+00:00"
          modified: "2024-07-08T10:13:20+00:00"
          created_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
          modified_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
          groups_users:
            - id: "3b9b9757-1ccb-444a-a3cf-4090364fac4f"
              group_id: "8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc"
              user_id: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
              is_admin: true
              created: "2024-07-22T16:01:07+00:00"

groupUpdate:
  request:
    base:
      summary: "Update group with mixed operations"
      value:
        name: "WRC"
        groups_users:
          # Add new user as group manager
          - user_id: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
            is_admin: true
          # Update existing user role (remove admin privileges)
          - id: "3b9b9757-1ccb-444a-a3cf-4090364fac4f"
            is_admin: false
          # Remove existing user from group
          - id: "1a2b3c4d-5e6f-7g8h-9i0j-k1l2m3n4o5p6"
            delete: true
        secrets:
          - resource_id: "4d0c0996-ce30-4bce-9918-9062ab35c542"
            user_id: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
            data: "-----BEGIN PGP MESSAGE-----"
          - resource_id: "4d0c0996-ce30-4bce-9918-9062ab35c542"
            user_id: "3b9b9757-1ccb-444a-a3cf-4090364fac4f"
            data: "-----BEGIN PGP MESSAGE-----"
  response:
    base:
      value:
        header:
          id: "7ff2828c-1092-4897-8e0a-1dc64ada889f"
          status: "success"
          servertime: 1721207029
          action: "4d0c0996-ce30-4bce-9918-9062ab35c542"
          message: "The operation was successful."
          url: "/groups/8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc.json"
          code: 200
        body:
          id: "8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc"
          name: "Groupe B"
          deleted: false
          created: "2024-07-08T10:13:20+00:00"
          modified: "2024-07-08T10:13:20+00:00"
          created_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
          modified_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
          groups_users:
            - id: "3b9b9757-1ccb-444a-a3cf-4090364fac4f"
              group_id: "8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc"
              user_id: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
              is_admin: true
              created: "2024-07-22T16:01:07+00:00"

groupUpdateDryRunSuccess:
  response:
    base:
      value:
        header:
          id: "7ff2828c-1092-4897-8e0a-1dc64ada889f"
          status: "success"
          servertime: 1721207029
          action: "4d0c0996-ce30-4bce-9918-9062ab35c542"
          message: "The operation was successful."
          url: "/groups/8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc/dry-run.json"
          code: 200
        body:
          dry-run:
            SecretsNeeded: []
            Secrets: []

groupUpdateDryRunError:
  response:
    base:
      value:
        header:
          id: "7ff2828c-1092-4897-8e0a-1dc64ada889f"
          status: "success"
          servertime: 1721207029
          action: "4d0c0996-ce30-4bce-9918-9062ab35c542"
          message: "The operation was successful."
          url: "/groups/8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc/dry-run.json"
          code: 200
        body:
          dry-run:
            SecretsNeeded:
              - Secret:
                  resource_id: "a736a8aa-7cfe-4466-8294-d130ee23ef88"
                  user_id: "8c640fd5-268c-4ae0-9e35-2f120cf1a831"
            Secrets:
              - Secret:
                  resource_id: "a736a8aa-7cfe-4466-8294-d130ee23ef88"
                  data: "-----BEGIN PGP MESSAGE-----"

groupDeleteDryRunError:
  response:
    base:
      value:
        header:
          id: "7ff2828c-1092-4897-8e0a-1dc64ada889f"
          status: "error"
          servertime: 1721207029
          action: "4d0c0996-ce30-4bce-9918-9062ab35c542"
          message: "The group cannot be deleted. The group should not be sole owner of shared content, transfer the ownership to other users."
          url: "/groups/8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc/dry-run.json"
          code: 400
        body:
          errors:
            resources:
              sole_owner:
                - id: "ae60d89c-f13b-4fb1-b2dc-c8dc806cac88"
                  metadata: "-----BEGIN PGP MESSAGE-----"
                  metadata_key_id: "0194fec1-65fa-7b6f-935a-9541c1c13281"
                  metadata_key_type: "shared_key"
                  created: "2024-07-08T08:06:25+00:00"
                  modified: "2024-07-08T08:06:25+00:00"
                  created_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
                  modified_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
                  resource_type_id: "a28a04cd-6f53-518a-967c-9963bf9cec51"
                  expired: null
                  folder_parent_id: null
                  personal: false
                  permissions:
                    - id: "836b7e69-578a-4bd6-aee5-ee23b5753f52"
                      aco: "Resource"
                      aco_foreign_key: "a736a8aa-7cfe-4466-8294-d130ee23ef88"
                      aro: "Group"
                      aro_foreign_key: "8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc"
                      type: 15
                      created: "2024-07-22T16:01:25+00:00"
                      modified: "2024-07-31T12:59:28+00:00"
                      group:
                        id: "8a3c5c4e-e931-4e6b-854a-9b2e9afcd3bc"
                        name: "WRC"
                        deleted: false
                        created: "2024-07-22T16:01:07+00:00"
                        modified: "2024-07-22T16:01:07+00:00"
                        created_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
                        modified_by: "8bb80df5-700c-48ce-b568-85a60fc3c8f2"
                      user: null
